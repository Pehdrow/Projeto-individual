<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/reprodutor.css">
  <title>Document</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <section>


    <header>

      <nav class="navegacao">
        <ul>
          <span><a href="index.html">Home</a></span>
          <span><a href="minha_historia.html">história da flauta </a></span>
          <span><a href="login.html">Login</a></span>
          <span><a href="Cadastro.html">Cadastro</a></span>
        </ul>
      </nav>
    </header>





  </section>

  <h1>Reproduzindo músicas <br> Tocadas com a flauta transversal </h1>
  <div class="container">



    <div class="box">
      <div>
        <span>Música Clássica</span>
        <audio preload="metadata"  controls>
          <source src="sons/classico.mp3" type="audio/mpeg">
        </audio>
      </div>

      <div>
        <span>Samba</span>
        <audio preload="metadata"  controls>
          <source src="sons/samba.mp3" type="audio/mpeg">
        </audio>

      </div>
      <div>
        <span>Pop</span>
        <audio preload="metadata"  controls>
          <source src="sons/pop.mp3" type="audio/mpeg">
        </audio>
      </div>


</div>
      <div class="box2">
        <div>
          <span>Jazz</span>
          <audio preload="metadata"  controls>
            <source src="sons/Jazz.mp3" type="audio/mpeg">
          </audio>
        </div>

        <div>
          <span>Bossa Nova</span>
          <audio preload="metadata"  controls>
            <source src="sons/bossa nova.mp3" type="audio/mpeg">
          </audio>

        </div>
        <div>
          <span>Rock</span>
          <audio preload="metadata"  controls>
            <source src="sons/eletronica.mp3" type="audio/mpeg">
          </audio>
        </div>

      </div>


    

  </div>





  <h1>Pesquisa sobre Estilo Musical</h1>
  <div class="banner">
	<div class="formulario">
		
	
    
    <h4>Qual é o seu estilo musical preferido?</h4>
    
    <input type="text" id="input_estilo" name="nome" placeholder="Seu Estilo...">

    
    <h4>Qual música você considera como a sua "música do momento"?</h4>
   
    <input type="text" id="input_musica" name="nome" placeholder="Música do momento...">


    <h4> Você prefere músicas em qual idioma?</h4>
    
    <input type="text" id="input_idioma" name="nome" placeholder="Idioma...">

    <h4> Quais artistas são os seus favoritos?</h4>
    <input type="text" id="input_artista" name="nome" placeholder="Artista...">


   

   

		<button onclick="enviar()">Enviar</button>
    </div>
</div>







  <div class="chart-container">

  </div>

  <div>
    <canvas id="myChart"></canvas>
  </div>




</body>


</html>



<script>

  function enviar() {
    var estilo = input_estilo.value;
    var mscMomento = input_musica.value;
    var idioma = input_idioma.value;
    var artista = input_artista.value;

  

  fetch("/musica/cadastrar", {
    method: "POST",
    headers: {
        "Content-Type": "application/json"
    },
    body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        estiloServer: estilo,
        mscMomentoServer: mscMomento,
        idiomaServer: idioma,
        artistaServer: artista
    })
  }).then(function (resposta) {
  
    console.log("resposta: ", resposta);
  
    if (resposta.ok) {
        setTimeout(() => {
            window.location = "reprodutor.html";
        }, "2000")
  
    } else {
        throw ("Houve um erro ao tentar realizar o cadastro!");
    }
  }).catch(function (resposta) {
    console.log(`#ERRO: ${resposta}`);
  });
  
}
  
  
  </script>












<div class="footer">
  <div class="container">
    <h4>
      Pedro Lacerda &#x1F3B5;
    </h4>
  </div>
</div>